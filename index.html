<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alex prosjekt 3 - Home</title>

    <link rel="icon" href="">

    <link rel="stylesheet" href="styles/common/body.css">
    <link rel="stylesheet" href="styles/common/header.css">
    <link rel="stylesheet" href="styles/common/main.css">
    <link rel="stylesheet" href="styles/common/footer.css">
    <link rel="stylesheet" href="styles/common/navigation.css">

    <script src="scripts/window_onclick.js"></script>
</head>

<body>

    <img class="background-image" src="images/base/background.png" alt="Error">

    <header>

        <h1 class="title">Online IT Education</h1>

        <img class="dropdown-button" src="images/base/nav_icon.png" alt="Meny-knapp" title="Meny">

        <section class="dropdown-container">
            <div class="closenav"><img src="images/base/exitmark.png" alt=""></div>
            <a href="" class="top-link">Page1</a>
            <div class="separator"></div>
            <a href="">Page2</a>
            <div class="separator"></div>
            <a href="">Page3</a>
            <div class="separator"></div>
            <a href="">Page4</a>
            <div class="separator"></div>
            <a href="">Page5</a>
        </section>
    </header>

    <main>

        <section class="ark">
            <h1 style="align-self: center; font-size: 34px; margin-bottom: 10px;">Prosjekt 3</h1>
            <article class="center-text">
                <p>
                    Dette prosjektet omhandler bruken av animasjonar, firebase-databasen og datamodellar, standard HTML
                    og CSS design samt
                    bruk av JavaScript til eit visst punkt. Prosjektet skal presentere planlegging som WireFrames,
                    innhaldsliste og
                    GAS-analyse. Prosjektet skal omhandla kapittel 3, 5 eller 6. Dette prosjektet omhandler kapittel 3 i
                    boka og på desse
                    sidena vil du finne info om dette kapittellet.
                </p>
                <p>
                    På denne sida vil du finna informasjon om prosjektet, navigasjon til dei ulike sidena og alle
                    planleggingsdokumenter og
                    wireframes som er brukt. Du vil og finna nede til høgre, ein "Support" knapp, som åpner ein chat.
                    Denne chatten lagrer
                    alle meldinger på firebase, og alle som åpner nettsida vil kunne sjå desse meldingane. Denne chatten
                    er for å skape ein
                    moglegheit for samarbeid eller støtte for dette kapittellet.
                </p>
            </article>

            <article>

            </article>

            <section class="row">
                <article>
                    <h3>Wireframes</h3>
                    <p>text</p>
                </article>

                <article class="image right">
                    <a href="images/base/wireframe_main.png"><img src="images/base/wireframe_main.png"
                            alt="Bilde av Wireframe"></a>
                    <p>Wireframe til sideplanlegging.</p>
                </article>
            </section>
        </section>

    </main>

    <footer class="s-btn" id="support-button">
        <img class="s-btn" src="images/base/support.png" alt="">
        <h3 class="s-btn">Support</h3>
    </footer>
    <section class="support-chat">

        <section class="support-chat-top">
            <img src="images/base/exitmark.png" class="close-support-chat" alt="">
        </section>

        <article id="txtMeldinger"></article>

        <form id="skjema">

            <input type="text" id="inpAvsender" required placeholder="Namn">

            <input type="text" id="inpMening" required placeholder="Melding">

            <button type="submit" class="button">OK</button>

        </form>

    </section>


    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/4.9.1/firebase.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#config-web-app -->

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyDFcFebf7srGUuxLgZ1nsmsiIYUx1epPJU",
            authDomain: "prosjekt3-618a9.firebaseapp.com",
            databaseURL: "https://prosjekt3-618a9.firebaseio.com",
            projectId: "prosjekt3-618a9",
            storageBucket: "prosjekt3-618a9.appspot.com",
            messagingSenderId: "72131199521",
            appId: "1:72131199521:web:c3748c44971e606c"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>
    <script>
        let database = firebase.database();

        let meldinger = database.ref("meldinger");

        let skjema = document.getElementById("skjema");

        let inpAvsender = document.getElementById("inpAvsender");

        let inpMening = document.getElementById("inpMening");

        let txtMeldinger = document.getElementById("txtMeldinger");

        function visMelding(snapshot) {

            let melding = snapshot.val();

            let meldingTekst = `<p> <b>${melding.avsender}: </b> <i>${melding.tekst}</i> </p>`;

            txtMeldinger.innerHTML = txtMeldinger.innerHTML + meldingTekst;

        }

        function regNyMelding(evt) {

            evt.preventDefault();

            let nyMelding = {

                avsender: inpAvsender.value,

                tekst: inpMening.value

            };

            meldinger.push(nyMelding);

            inpMening.value = "";

        }

        meldinger.on("child_added", visMelding);

        skjema.onsubmit = regNyMelding;
    </script>
</body>

</html>